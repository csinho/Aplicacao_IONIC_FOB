{"version":3,"sources":["../../src/pages/escolha-mes/escolha-mes.module.ts","../../src/pages/escolha-mes/escolha-mes.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EscolhaMesPage } from './escolha-mes';\n\n@NgModule({\n  declarations: [\n    EscolhaMesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EscolhaMesPage),\n  ],\n})\nexport class EscolhaMesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/escolha-mes/escolha-mes.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\n@IonicPage()\n@Component({\n  selector: 'page-escolha-mes',\n  templateUrl: 'escolha-mes.html',\n})\nexport class EscolhaMesPage {\n\n  public cliente_model: any;\n  public motorista_model: any;\n  public clientes_BD = [];\n  public motorista_BD = [];\n\n  public escolhaCli: any;\n  public escolhaMot: any;\n\n  public mes_model: any;\n  public Meses = [\n    { mes: 'JANEIRO', id: 'JAN' },\n    { mes: 'FEVEREIRO', id: 'FEV' },\n    { mes: 'MARÇO', id: 'MAR' },\n    { mes: 'ABRIL', id: 'ABR' },\n    { mes: 'MAIO', id: 'MAI' },\n    { mes: 'JUNHO', id: 'JUN' },\n    { mes: 'JULHO', id: 'JUL' },\n    { mes: 'AGOSTO', id: 'AGO' },\n    { mes: 'SETEMBRO', id: 'SET' },\n    { mes: 'OUTUBRO', id: 'OUT' },\n    { mes: 'NOVEMBRO', id: 'NOV' },\n    { mes: 'DEZEMBRO', id: 'DEZ' }\n  ]\n\n  public MesesANO = ['JAN', 'FEV', 'MAR', 'ABR', 'MAI', 'JUN', 'JUL', 'AGO', 'SET', 'OUT', 'NOV', 'DEZ'];\n\n  constructor(\n    public navCtrl: NavController,\n    public db: AngularFireDatabase,\n    public view: ViewController,\n    public navParams: NavParams) {\n\n    this.escolhaCli = this.navParams.get(\"escolhaCli\");\n    this.escolhaMot = this.navParams.get(\"escolhaMot\");\n\n    this.getCliente();\n    this.getMotorista();\n\n  }\n\n  fecharModal() {\n    this.view.dismiss();\n  }\n\n  okCli() {\n    if (this.mes_model == null || undefined\n      && this.cliente_model == null || undefined\n    ) {\n      alert(\"Desculpa, selecione um Cliente ou Mês válido.\");\n    } else {\n      this.navCtrl.push('TelaDadosPage', {\n        cliente: this.cliente_model,\n        mes: this.mes_model.id\n      });\n      this.mes_model = \"\";\n      this.cliente_model = \"\";\n    }\n  }\n\n  okMot() {\n    if (this.mes_model == null || undefined\n      && this.motorista_model == null || undefined\n    ) {\n      alert(\"Desculpa, selecione um Motorista ou Mês válido.\");\n    } else {\n      this.navCtrl.push('TelaDadosPage', {\n        motorista: this.motorista_model,\n        mes: this.mes_model.id\n      });\n      this.mes_model = \"\";\n      this.motorista_model = \"\";\n    }\n  }\n\n\n  getCliente() {\n    var a = [];\n    var y = [];\n\n    for (var i = 0; i < this.MesesANO.length; i++) {\n\n      this.db.list(this.MesesANO[i], ref => ref.orderByChild('Cliente'))\n        .valueChanges()\n        .subscribe(datas => {\n\n          for (var x = 0; x < datas.length; x++) {\n            if (datas[x] !== null && datas[x] !== undefined)\n              a = datas\n\n            //LER O ARRAY QUE VEM DO BANCO, ADICIONA TODOS OS CLIENTES EM UM NOVO ARRAY\n            var o = a.map((ler) => {\n              return ler.Cliente\n            });\n\n            //LER O NOVO ARRAY SEM DUPLICADOS E RETIRA CLIENTE == \"CLIENTE\"\n            for (var i = 0; i < o.length; i++) {\n              if (o[x] === \"Cliente\") {\n                o.splice(i, x);\n              }\n            }\n            this.clientes_BD.push(o[x])\n\n            //LER O NOVO ARRAY APENAS COM CLIENTES, E RETIRA OS DUPLICADOS\n            y = this.clientes_BD.filter(function (elem, pos, self) {\n              return self.indexOf(elem) == pos;\n            })\n          }\n          //ENVIAR PARA TELA\n          this.clientes_BD = y\n\n        }, (err) => {\n          console.log(\"Problema : \", err)\n        })\n    }\n  }\n\n  getMotorista() {\n\n    var a = [];\n\n\n    for (var i = 0; i < this.MesesANO.length; i++) {\n\n      this.db.list(this.MesesANO[i], ref => ref.orderByChild('Motorista'))\n        .valueChanges()\n        .subscribe(motorista => {\n\n          for (var x = 0; x < motorista.length; x++) {\n            if (motorista[x] !== null && motorista[x] !== undefined)\n              a = motorista\n\n            //LER O ARRAY QUE VEM DO BANCO, ADICIONA TODOS OS CLIENTES EM UM NOVO ARRAY\n            var o = a.map((ler) => {\n              return ler.Motorista\n            });\n\n            //LER O NOVO ARRAY SEM DUPLICADOS E RETIRA CLIENTE == \"CLIENTE\"\n            for (var i = 0; i < o.length; i++) {\n              if (o[i] === \"Nome do Motorista\") {\n                o.splice(i, 1);\n              }\n            }            \n            if (o[x] === \"\") {\n              o.splice(x, 1);\n            } \n            this.motorista_BD.push(o[x])\n\n            this.tes();\n          }\n\n        }, (err) => {\n          console.log(\"Problema : \", err)\n        })\n    }\n  }\n\n  tes() {\n    var y = [];\n    //LER O NOVO ARRAY APENAS COM CLIENTES, E RETIRA OS DUPLICADOS\n    y = this.motorista_BD.filter(function (elem, pos, self) {\n      return self.indexOf(elem) == pos;\n    })\n    //ENVIAR PARA TELA\n    this.motorista_BD = y\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/escolha-mes/escolha-mes.ts"],"sourceRoot":""}